function files = edir(maindir,extension)
% EDIR	finds all files in a directory and subdirectories
% 
% files = edir(maindir,extension)
% 
% maindir   = string of full path to the main directory where sought
%             files are located (no end slash).

% extension = string of filename extension of specific files 
%             (e.g., nc).  Use * for any files.
%
% files     = character matrix with full paths to each file on
%             separate lines.
% 
% See also MKDIR DIR LS EMKDIR

% find subdirectories and make file list
cd(datapath)
pwd
%!find * -regex '.*.nc' -mindepth 1 > files.txt
eval(['!find * -regex '.*.',extension,''' -mindepth 1 > files.txt'])
files=textread('files.txt','%s');
%cd ~/arbeid/REOCIRC/tracks


